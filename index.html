<!DOCTYPE html>
<html lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Torpedo NFT Marketplace</title>

<!--meta property="og:image" content="https://ba.net/domain/domain-large.png"-->


    <link rel="stylesheet" type="text/css" href="index_files/bootstrap.css">

    <script src="index_files/web3.js" integrity="sha512-96ZCo0pzD4x2MuBZCB4ipirFKs/X/xB2diGU/A7zpfaltISM309KN79pyWe4l9IdtOlzitRltfVcxgdTEbcnvQ==" crossorigin="anonymous"></script>
    <script src="index_files/jquery-3.js"></script>
    <script src="index_files/bootstrap.js"></script>
</head>

<body>
<style>
        body {
               background: #F5F0F2;
}
</style>


<div align="right">
<table cellpadding="5">
<tbody><tr><td>
<button id="button4" class="btn-sm btn-secondary">Connect Metamask</button>
</td><td>
<div class="custom-control custom-switch">
  <input type="checkbox" class="custom-control-input" id="darkSwitch">
  <label class="custom-control-label" for="darkSwitch">
<img src="index_files/dark.png" width="30" height="30">
</label>
<div>
</div></div></td></tr></tbody></table>
</div>

<style>
        body {
               background: #F5F0F2;
}

[data-theme="dark"] {
  background-color: #111 !important;
  color: #eee;
}

[data-theme="dark"] .bg-black {
  background-color: #fff !important;
}

[data-theme="dark"] .bg-dark {
  background-color: #eee !important;
}

[data-theme="dark"] .bg-light {
  background-color: #222 !important;
}

[data-theme="dark"] .bg-white {
  background-color: #000 !important;
}

</style>

    <div class="container">
<center>
<br>
<table cellpadding="10"><tbody><tr><td>
<a href="https://ba.net/smartbch/metamask.html" target="_blank">
<img src="index_files/metamask2.png" title="install metamask extension" width="45" height="45" border="0" align="left">
</a>
</td><td>
<a href="https://ba.net/smartbch/metamask.html" target="_blank">
<img src="index_files/smartbch2.png" title="smartbch matic metamask config" width="45" height="45" border="0" align="left">
</a>
</td><td>
<a href="https://ba.net/amkt-smartbch/business.html">
<img src="index_files/shop-small.png" width="45" height="45" border="0" align="left"></a>
</td><td>
<a href="https://ba.net/amkt-smartbch">
<img src="index_files/torpedo1.png" title="TORPEDO NFT Exchange" width="155" height="155" border="0" align="left">
</a>
</td><td>  
        <h3>TORPEDO NFT Marketplace</h3>
<a href="https://ba.net/smartbch/metamask.html" target="_blank">
<font color="black">SmartBCH</font> config metamask</a>
</td></tr></tbody></table>


<!--!--#include file="linkback-dark.html" ---->

<p><br>
<input id="selleraccount" size="54" type="hidden" value="0xA891fd056eBDD4b90b05Ef319b15f8C275B9671e">

</p><p>
        <button id="button2" class="btn btn-primary">Check Torpedo NFTs Lootboxed For Sale</button>


</p><center>
<p>
</p><div class="mb-3">
<div id="lang"><p><br>Available Torpedo NFTs For Sale<br>
You will get random one. Check it <a href="https://mazetoken.github.io/torpedoNFT/torpedowallet.html">here</a>.<br>
NFT images are stored on IPFS.<br><br>
Torpedos are friendly creatures, but they attack when they are hungry.<br><br>
TORPEDO NFT contract id: 0x74d731274c6c4ce78e070357160255a2596da71d<br>
<br></p><table cellpadding="8"><!--/table--><tbody><tr><td><img src="index_files/lootbox.png" width="120" height="120"><br>Torpedo Lootbox<br>Price 0.00222222 <br><a href="javascript:document.getElementById('itemcode').value='0x5c0eb7bac0355e28b7d1e9ca4a5f8635cb012a09bf8f762c78e4e044e1a63264';document.getElementById('pricebuy').value=0.00222222;document.getElementById('button3').click();">Buy Now NFT</a><br><br></td><td><img src="index_files/lootbox.png" width="120" height="120"><br>Torpedo Lootbox<br>Price 0.00222222 <br><a href="javascript:document.getElementById('itemcode').value='0x98ccb405f9f1dba60760230b0b2b0c8446d497c72a9211d78d910bf69076cd8f';document.getElementById('pricebuy').value=0.00222222;document.getElementById('button3').click();">Buy Now NFT</a><br><br></td><td><img src="index_files/lootbox.png" width="120" height="120"><br>Torpedo Lootbox<br>Price 0.00222222 <br><a href="javascript:document.getElementById('itemcode').value='0x844fb2a0f0b9e914484c4741e15ea7c99831d0ed97c77118a72c941acba47bff';document.getElementById('pricebuy').value=0.00222222;document.getElementById('button3').click();">Buy Now NFT</a><br><br></td><td><img src="index_files/lootbox.png" width="120" height="120"><br>Torpedo Lootbox<br>Price 0.00222222 <br><a href="javascript:document.getElementById('itemcode').value='0x3c1864a93acb419ae1d75e36429cb35122eaac0a9658a91f3e5e179b451cab23';document.getElementById('pricebuy').value=0.00222222;document.getElementById('button3').click();">Buy Now NFT</a><br><br></td><td><img src="index_files/lootbox.png" width="120" height="120"><br>Torpedo Lootbox<br>Price 0.00222222 <br><a href="javascript:document.getElementById('itemcode').value='0xa5d35de879a35d7f03fc1be0c02b4eaf7a14fabf30c64d2283354eae5bf15b25';document.getElementById('pricebuy').value=0.00222222;document.getElementById('button3').click();">Buy Now NFT</a><br><br></td></tr><tr><td><img src="index_files/lootbox.png" width="120" height="120"><br>Torpedo Lootbox<br>Price 0.00222222 <br><a href="javascript:document.getElementById('itemcode').value='0x4a03382fac35196178ff56b8a9ea92863acffa5ac9e0fdf44700f7f46d6cd3f4';document.getElementById('pricebuy').value=0.00222222;document.getElementById('button3').click();">Buy Now NFT</a><br><br></td><td><img src="index_files/lootbox.png" width="120" height="120"><br>Torpedo Lootbox<br>Price 0.00222222 <br><a href="javascript:document.getElementById('itemcode').value='0x8d3c685a372174dfd47a0b21edd23ca13ca223692fb817b976f9e314c0de871a';document.getElementById('pricebuy').value=0.00222222;document.getElementById('button3').click();">Buy Now NFT</a><br><br></td><td><img src="index_files/lootbox.png" width="120" height="120"><br>Torpedo Lootbox<br>Price 0.00222222 <br><a href="javascript:document.getElementById('itemcode').value='0x689b5df03bb11697d30a5c8e8a807e62f5381b719387e89bd360fdcd6de1bfd3';document.getElementById('pricebuy').value=0.00222222;document.getElementById('button3').click();">Buy Now NFT</a><br><br></td><td><img src="index_files/lootbox.png" width="120" height="120"><br>Torpedo Lootbox<br>Price 0.00222222 <br><a href="javascript:document.getElementById('itemcode').value='0x90dd643c767cd932bb10ce427a401f63e7c91a5e6d444447a9e4effafef4b5a5';document.getElementById('pricebuy').value=0.00222222;document.getElementById('button3').click();">Buy Now NFT</a><br><br></td><td><img src="index_files/lootbox.png" width="120" height="120"><br>Torpedo Lootbox<br>Price 0.00222222 <br><a href="javascript:document.getElementById('itemcode').value='0xd20889ab2f603f36a167d5a8df483463264321dff1d6b562a0255e5a886d84a6';document.getElementById('pricebuy').value=0.00222222;document.getElementById('button3').click();">Buy Now NFT</a><br><br></td></tr><tr><td><img src="index_files/lootbox.png" width="120" height="120"><br>Torpedo Lootbox<br>Price 0.00222222 <br><a href="javascript:document.getElementById('itemcode').value='0x13005845cd3f45899ec5e54673532a673d49eaf67f4f69060391363a6934b60c';document.getElementById('pricebuy').value=0.00222222;document.getElementById('button3').click();">Buy Now NFT</a><br><br></td><td><img src="index_files/lootbox.png" width="120" height="120"><br>Torpedo Lootbox<br>Price 0.00222222 <br><a href="javascript:document.getElementById('itemcode').value='0x5aa9438a7bbe15bb65488cc79baa6fc69e604b57820cf98b7e45e3a9f73c5640';document.getElementById('pricebuy').value=0.00222222;document.getElementById('button3').click();">Buy Now NFT</a><br><br></td><td><img src="index_files/lootbox.png" width="120" height="120"><br>Torpedo Lootbox<br>Price 0.00222222 <br><a href="javascript:document.getElementById('itemcode').value='0x4fa0e720e7c6ebf9bfd129552564d10a748100f0e2056af9213bde7da931af3a';document.getElementById('pricebuy').value=0.00222222;document.getElementById('button3').click();">Buy Now NFT</a><br><br></td><td><img src="index_files/lootbox.png" width="120" height="120"><br>Torpedo Lootbox<br>Price 0.00222222 <br><a href="javascript:document.getElementById('itemcode').value='0xec21c6d4bddeab50acf4014079ead2dcec7f88a2fd9f99fb2471144f00afd731';document.getElementById('pricebuy').value=0.00222222;document.getElementById('button3').click();">Buy Now NFT</a><br><br></td><td><img src="index_files/lootbox.png" width="120" height="120"><br>Torpedo Lootbox<br>Price 0.00222222 <br><a href="javascript:document.getElementById('itemcode').value='0xdf229999a6424444fa881a04f4cc9bdb2ebea4c309dcfe8540c2742f19bef5c7';document.getElementById('pricebuy').value=0.00222222;document.getElementById('button3').click();">Buy Now NFT</a><br><br></td></tr><tr><td><img src="index_files/lootbox.png" width="120" height="120"><br>Torpedo Lootbox<br>Price 0.00222222 <br><a href="javascript:document.getElementById('itemcode').value='0x566d99b146c395ba9cf595c26af3b2f1021becb0a1a22facd650b56522847340';document.getElementById('pricebuy').value=0.00222222;document.getElementById('button3').click();">Buy Now NFT</a><br><br></td><td><img src="index_files/lootbox.png" width="120" height="120"><br>Torpedo Lootbox<br>Price 0.00222222 <br><a href="javascript:document.getElementById('itemcode').value='0x0a546c9296b7dd6d684f3e6a15ab5c9aa0f4d000dcd1cf4d10a8e839c453dd0d';document.getElementById('pricebuy').value=0.00222222;document.getElementById('button3').click();">Buy Now NFT</a><br><br></td><td><img src="index_files/lootbox.png" width="120" height="120"><br>Torpedo Lootbox<br>Price 0.00222222 <br><a href="javascript:document.getElementById('itemcode').value='0x5a15ea5374faf1b666acdd64977ae36c20ca78b746d2c5ca6c6df8f63ccb454a';document.getElementById('pricebuy').value=0.00222222;document.getElementById('button3').click();">Buy Now NFT</a><br><br></td><td><img src="index_files/lootbox.png" width="120" height="120"><br>Torpedo Lootbox<br>Price 0.00222222 <br><a href="javascript:document.getElementById('itemcode').value='0x77aa80bba7f063c96d1f6413d288d5a094fd4583c1131256f8685a48eced197d';document.getElementById('pricebuy').value=0.00222222;document.getElementById('button3').click();">Buy Now NFT</a><br><br></td></tr></tbody></table></div>
</div>
</center></center></div>

<center>
<font size="5">


</font>
</center>


<center>
<p><br><br>
</p><p><br><br>
</p><p><br><br>
</p><p>
</p><div class="mb-3">
<div id="lang2">
</div>
</div>
<br><br>
<p><br>
</p><div class="mb-3">
<label for="name" class="col-lg-2 form-label">Torpedo NFT Order Code</label>
<input id="itemcode" size="48" type="text" placeholder="0x123456">

<p>
<label for="name" class="col-lg-2 form-label">Price in BCH</label>
<input id="pricebuy" size="9" type="text" placeholder="0.012">
</p></div>
<p><br>
        <button id="button3" class="btn btn-primary">Buy Now Torpedo</button>




</p><p><br>
</p><p><br>


</p><center>

<p><br><br>
</p><p><br><br>
<font size="5">



<br><br>Contact us at iphone@ba.net
<a href="https://twitter.com/fonosip" target="_blank">
<img src="index_files/twitter.gif" title="Twitter" width="30" height="30" border="0"></a> 
<a href="https://reddit.com/r/SLPswap/" target="_blank">
<img src="index_files/reddit.gif" title="Reddit" width="25" height="25" border="0"></a> 
<a href="https://t.me/slppony" target="_blank">
<img src="index_files/telegram.png" title="Telegram Group" width="30" height="30" border="0"></a><br><br>
<br>TORPEDO NFT powered by <a href="https://mazetoken.github.io">Maze Token</a>, 2021
<a href="https://t.me/mazetokens" target="_blank">
<img src="index_files/telegram.png" title="MAZE Token Telegram Group" width="30" height="30" border="0"></a>
<a href="https://github.com/mazetoken/torpedoNFT" target="_blank">
<img src="index_files/github.png" title="Torpedo NFT Github" width="30" height="30" border="0"></a><br><br><br><br>
<img src="img/maze200.png">


</font></p><p><font size="5"><br><br>
<font size="4">




<br><br>
<!--!--#exec cmd="/cgi-bin/banner-poker"---->

<br><br>

    <script>

var darkSwitch=document.getElementById("darkSwitch");window.addEventListener("load",(function(){if(darkSwitch){initTheme();darkSwitch.addEventListener("change",(function(){resetTheme()}))}}));function initTheme(){var darkThemeSelected=localStorage.getItem("darkSwitch")!==null&&localStorage.getItem("darkSwitch")==="dark";darkSwitch.checked=darkThemeSelected;darkThemeSelected?document.body.setAttribute("data-theme","dark"):document.body.removeAttribute("data-theme")}function resetTheme(){if(darkSwitch.checked){document.body.setAttribute("data-theme","dark");localStorage.setItem("darkSwitch","dark")}else{document.body.removeAttribute("data-theme");localStorage.removeItem("darkSwitch")}}

web3 = new Web3(web3.currentProvider);
//ethereum.enable();

//force login ok
//ethereum.request({ method: 'eth_requestAccounts' });

        if (typeof web3 !== 'undefined') {
            console.log("Using current provider")
            web3 = new Web3(web3.currentProvider);
        } else {
            // set the provider you want from Web3.providers
            web3 = new Web3(new Web3.providers.HttpProvider("https://rpc-mainnet.matic.network"));
//            console.log("Using ganache (localhost)");
        }
</script>

<script src="index_files/contract.js"></script>

<script>
        var cuentaMaster;
        const getAccount = async () => {
            try {
                const myAccounts = await web3.eth.getAccounts();
                cuentaMaster = myAccounts[0];
                console.log("Master account " + cuentaMaster);
                return myAccounts[0];

            } catch (err) {
                console.log(err);
            }
        }

        getAccount();
        web3.eth.defaultAccount = web3.eth.accounts[0];


        $("#button4").click(function () {
            console.log("Master = " + cuentaMaster);

//force login ok
ethereum.request({ method: 'eth_requestAccounts' });

	if (typeof web3 !== 'undefined') {
            console.log("Using current provider")
            web3 = new Web3(web3.currentProvider);
        } else {
	    // set the provider you want from Web3.providers
            web3 = new Web3(new Web3.providers.HttpProvider("https://rpc-mainnet.matic.network"));
//            console.log("Using ganache (localhost)");
        }


//location.reload(true);
if (!cuentaMaster) location.reload(true);

})


        $("#button2").click(function () {
            console.log("Master = " + cuentaMaster);

var selleraccount = $("#selleraccount").val();

//if not connected reload page
//if (!cuentaMaster) location.reload(true);

//no need? 
//if (!cuentaMaster) {
//document.getElementById('button4').click();
//location.reload(true);
//}

//orderid by seller
var content = "<p><br>Available Torpedo NFTs For Sale<br><br><table cellpadding=8>";

web3.eth.net.getId().then(netId => {
if (netId != 10000) content += "<br><font size=5>Configure your metamask for <a href=https://ba.net/smartbch/metamask.html target=_blank>SmartBCH</a></font> <p><br><br><img src=banet-splash.png width=680 border=0>";
$("#lang").html(content);
})


//search
for(var x = 0; x < 90; x++){
ok = x.toString();

contract.methods.orderIdBySeller(selleraccount,ok).call({ from: cuentaMaster })
                .then(function (result) {
//content += result;
//content += "<br>";

//$("#lang").html(content);

//                });

cols=0;
contract.methods.orderInfo(result).call({ from: cuentaMaster })
		   .then(function (result2) {

if (!result2.isSold && result2.orderType == 0 && result2.endBlock != 0) {

if ((cols% 5) == 0) content += "<tr>";

if (result2.token == "0x74d731274C6c4ce78E070357160255A2596DA71d") {

//if (x = 3) content += "40<tr>";
//content += "<td>"+content.length;
cols++;
content += "<td><img src=https://ba.net/torpedo/lootbox.png width=120 height=120><br>";
//content += "Token ID "+result2.tokenId;

content += "Torpedo Lootbox<br>Price ";
content += result2.startPrice / 1000000000000000000;

content += " <br><a href=javascript:document.getElementById('itemcode').value='"+result+"';document.getElementById('pricebuy').value=";
content+= result2.startPrice / 1000000000000000000;
content+= ";document.getElementById('button3').click();>Buy Now NFT</a><br><br></td>";

 } // token check

//content += "<br>"+result+"<br>";
}

$("#lang").html(content);
});

//$("#lang").html(content);

});



} // for

content += "<!/table>";
//content +=content.length;
//if (content.length < 80) content += "Make sure your metamask is configured for <a href=https://ba.net/polygon/metamask target=_blank>Polygon / Matic</a>";
$("#lang").html(content);

});




        $("#button3").click(function () {
            console.log("Master = " + cuentaMaster);
var itemcode = $("#itemcode").val();
var pricebuy = $("#pricebuy").val();

var pricebuy1 = pricebuy *1000000000000000000;
var pricebuy2 = pricebuy1.toString();

//if not connected reload page
//if (!cuentaMaster) location.reload(true);
if (!cuentaMaster) {
document.getElementById('button4').click();
//location.reload(true);
}

var content = "<p><br>Sending transaction...";
$("#lang2").html(content);

var event = contract.methods.buyItNow(itemcode).send({ from: cuentaMaster, value: pricebuy2, gas: 250000, gasPrice: 1050000000 })
                .then(function (receipt) {
                    // will be fired once the receipt is mined
                    console.log(receipt);

var content = "<p><br><br>Transaction sent!<br>";
content += JSON.stringify(receipt.transactionHash);
$("#lang2").html(content);

                });;

        });


//setTimeout(() => {  console.log("Auto search"); }, 1000);

//autoload search
//window.onload = document.getElementById('button2').click();

function getGoing()
{
setTimeout(() => { console.log("Auto search"); }, 1000);
document.getElementById('button2').click();
//setTimeout(() => {document.getElementById('button2').click();}, 1000);
};

window.onload = getGoing();



    </script>




</font></font></p></center></center></body></html>